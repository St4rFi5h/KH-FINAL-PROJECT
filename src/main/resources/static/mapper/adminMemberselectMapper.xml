<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	<mapper namespace="kr.or.eutchapedia.admin.member.dao.MemberselectDao">
	<resultMap
		type="kr.or.eutchapedia.admin.member.entity.Memeberinfo" id="memberselectpage">
		<id column="id" property="id" />
		<result column="NUM" property="num" />
		<result column="member_email" property="memberEmail" />
		<result column="member_nickname" property="memberNickname" />
		<result column="member_pwd" property="memberPwd" />
		<result column="member_pwd_salt" property="memberPwdSalt" />
		<result column="member_date" property="memberDate" />
		<result column="admin_check" property="adminCheck" />
		<result column="member_status" property="memberStatus" />
		<result column="member_photo" property="memberPhoto" />
		<result column="member_introduce" property="memberIntroduce" />
		<result column="member_join_route" property="memberJoinRoute" />
	</resultMap>
	
	<!-- 
		<resultMap
		type="kr.or.eutchapedia.admin.member.entity.MemberCount" id="membercount">
		<result column="NUM" property="num" />
	</resultMap>
	
	
	<select id="getmemberList" resultMap="memberselectpage"
		parameterType="map">

		SELECT * FROM(
		SELECT ROWNUM NUM, m.*
		FROM (SELECT *
		FROM MEMBER_INFO WHERE
		${field} LIKE '%'||#{query}||'%'
		) m
		)
		WHERE NUM BETWEEN #{page} AND
		#{amount}
	</select>
	
		<select id="getmemberCount" resultMap="membercount"
		parameterType="map">
		SELECT * FROM(
		SELECT ROWNUM NUM, m.*
		FROM (SELECT *
		FROM MEMBER_INFO WHERE
		${field} LIKE '%'||#{query}||'%'
		) m
		)
		</select>
	
	
	 -->
	
</mapper>