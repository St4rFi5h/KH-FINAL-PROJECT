<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.eutchapedia.mypage.dao.MypageSortDao">
	<!-- 보고싶어요 영화 select 가나다순-->
   <select id="selectwwsort1" parameterType="String" resultMap="WannaWatchVo" >
	    select a.*, b.title, b.prodyear, b.poster_uri  from wanna_watch a join movie_info b 
	    on a.fk_movie_docid = b.movie_docid 
	    where a.fk_member_email = #{_parameter}
	    order by b.title asc
   </select>
   
   <!-- 보고싶어요 영화 select 신작순-->
   <select id="selectwwsort2" parameterType="String" resultMap="WannaWatchVo" >
	    select a.*, b.title, b.prodyear, b.poster_uri  from wanna_watch a join movie_info b 
	    on a.fk_movie_docid = b.movie_docid 
	    where a.fk_member_email = #{_parameter}
	    order by b.prodyear desc
   </select>
   
   <!-- 보고싶어요 영화 select 구작순-->
   <select id="selectwwsort3" parameterType="String" resultMap="WannaWatchVo" >
	    select a.*, b.title, b.prodyear, b.poster_uri  from wanna_watch a join movie_info b 
	    on a.fk_movie_docid = b.movie_docid 
	    where a.fk_member_email = #{_parameter}
	    order by b.prodyear asc
   </select>
   
   <!-- 보고싶어요 영화 select 담은순-->
   <select id="selectwwsort4" parameterType="String" resultMap="WannaWatchVo" >
	    select a.*, b.title, b.prodyear, b.poster_uri  from wanna_watch a join movie_info b 
	    on a.fk_movie_docid = b.movie_docid 
	    where a.fk_member_email = #{_parameter}
	    order by a.wanna_watch_date desc
   </select>
   
   <resultMap
		type="kr.or.eutchapedia.mypage.entity.WannaWatchVo" id="WannaWatchVo">
		<result column="wanna_watch_index" property="wannaWatchIndex" />
		<result column="fk_member_email" property="memberEmail" />
		<result column="fk_movie_docid" property="movieDocid" />
		<result column="wanna_watch_date" property="wannaWatchDate" />
		<result column="title" property="title" />
		<result column="prodyear" property="prodYear" />
		<result column="poster_uri" property="posterUri" />
  </resultMap>
</mapper> 