<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.eutchapedia.mypage.dao.MypageDao">

  <!-- 탈퇴페이지에서 비밀번호 체크 -->
  <select id="passchk" resultType="int" parameterType="kr.or.eutchapedia.mypage.entity.MemberVo">
    select count(*) from member where member_email = #{memberEmail} and member_pwd = #{memberPwd}
  </select>

  <!--탈퇴회원정보 insert  -->
  <insert id="insertleavemember" parameterType="kr.or.eutchapedia.mypage.entity.LeaveMemberVo">
    insert into leave_member values 
    (seq_leave_member_index.nextval, #{memberEmail}, #{reason1}, #{reason2}, #{reason3}, #{reason4}, default)
  </insert>
  
 <!--  탈퇴 후 멤버테이블 회원상태 변경--> 
  <update id="updatestatus" parameterType="kr.or.eutchapedia.mypage.entity.MemberVo">
    update member set member_status='D' where member_email=#{memberEmail}
  </update>

  
</mapper> 